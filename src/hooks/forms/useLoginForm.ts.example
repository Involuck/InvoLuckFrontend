import { useForm } from 'react-hook-form'
import { yupResolver } from '@hookform/resolvers/yup'
import * as yup from 'yup'

const loginSchema = yup.object({
  email: yup.string().email('Invalid email').required('Email is required'),
  password: yup.string().required('Password is required').min(8, 'Password must be at least 8 characters')
})

export type LoginFormData = yup.InferType<typeof loginSchema>

export const useLoginForm = (defaultValues?: Partial<LoginFormData>) => {
  return useForm<LoginFormData>({
    resolver: yupResolver(loginSchema),
    defaultValues: {
      email: '',
      password: '',
      ...defaultValues
    },
    mode: 'onChange'
  })
}
